{"name": "Проверка времени загрузки главной страницы в Microsoft Edge", "status": "failed", "statusDetails": {"message": "AssertionError: Главная страница загружалась слишком долго: 3291 мс\n  assert 3291 <= 3000\nassert False", "trace": "self = <test_performance.TestPerformance object at 0x000001CB9686F6F0>, driver = <selenium.webdriver.edge.webdriver.WebDriver (session=\"0e0493d4a42669c1014448f888271755\")>\nbrowser_name = 'Microsoft Edge'\n\n    @allure.title(\"Проверка времени загрузки главной страницы в\"\n                  \" {browser_name}\")\n    @allure.description(\"Проверка что время загрузки главной страницы \"\n                        \"не превышает допустимое\")\n    @pytest.mark.parametrize(\"browser_name\",\n                             [\"Mozilla Firefox\", \"Google Chrome\",\n                              \"Microsoft Edge\", \"Yandex Browser\"])\n    def test_time_load(self, driver, browser_name):\n        allure.dynamic.parameter(\"Браузер\", browser_name)\n        with allure.step(\"Получение времени начала и окончания загрузки страницы\"):\n            # Выполняем JavaScript для получения времени загрузки\n            load_event_end = driver.execute_script(\n                    \"return window.performance.timing.loadEventEnd\")\n            navigation_start = driver.execute_script(\n                    \"return window.performance.timing.navigationStart\")\n            load_time_ms = load_event_end - navigation_start\n            allure.attach(str(load_time_ms), name=f\"Время загрузки\",\n                          attachment_type=allure.attachment_type.TEXT)\n    \n        with allure.step(\"Проверка, что время загрузки не превышает допустимое\"):\n            try:\n>               assert load_time_ms <= MAX_LOAD_TIME_MS, \\\n                    f\"Главная страница загружалась слишком долго: {load_time_ms} мс\"\nE                   AssertionError: Главная страница загружалась слишком долго: 3291 мс\nE                   assert 3291 <= 3000\n\ntests\\test_performance.py:30: AssertionError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_performance.TestPerformance object at 0x000001CB9686F6F0>, driver = <selenium.webdriver.edge.webdriver.WebDriver (session=\"0e0493d4a42669c1014448f888271755\")>\nbrowser_name = 'Microsoft Edge'\n\n    @allure.title(\"Проверка времени загрузки главной страницы в\"\n                  \" {browser_name}\")\n    @allure.description(\"Проверка что время загрузки главной страницы \"\n                        \"не превышает допустимое\")\n    @pytest.mark.parametrize(\"browser_name\",\n                             [\"Mozilla Firefox\", \"Google Chrome\",\n                              \"Microsoft Edge\", \"Yandex Browser\"])\n    def test_time_load(self, driver, browser_name):\n        allure.dynamic.parameter(\"Браузер\", browser_name)\n        with allure.step(\"Получение времени начала и окончания загрузки страницы\"):\n            # Выполняем JavaScript для получения времени загрузки\n            load_event_end = driver.execute_script(\n                    \"return window.performance.timing.loadEventEnd\")\n            navigation_start = driver.execute_script(\n                    \"return window.performance.timing.navigationStart\")\n            load_time_ms = load_event_end - navigation_start\n            allure.attach(str(load_time_ms), name=f\"Время загрузки\",\n                          attachment_type=allure.attachment_type.TEXT)\n    \n        with allure.step(\"Проверка, что время загрузки не превышает допустимое\"):\n            try:\n                assert load_time_ms <= MAX_LOAD_TIME_MS, \\\n                    f\"Главная страница загружалась слишком долго: {load_time_ms} мс\"\n            except AssertionError as e:\n                # В случае несовпадения - логирование ошибки\n                allure.attach(\n                    str(e),\n                    name=f\"Текст ошибки\",\n                    attachment_type=allure.attachment_type.TEXT\n                )\n                # Принудительное падение теста\n>               assert False, str(e)\nE               AssertionError: Главная страница загружалась слишком долго: 3291 мс\nE                 assert 3291 <= 3000\nE               assert False\n\ntests\\test_performance.py:40: AssertionError"}, "description": "Проверка что время загрузки главной страницы не превышает допустимое", "steps": [{"name": "Получение времени начала и окончания загрузки страницы", "status": "passed", "attachments": [{"name": "Время загрузки", "source": "9e9de008-fb1e-410f-944b-b27d038628d7-attachment.txt", "type": "text/plain"}], "start": 1753784784233, "stop": 1753784784286}, {"name": "Проверка, что время загрузки не превышает допустимое", "status": "failed", "statusDetails": {"message": "AssertionError: Главная страница загружалась слишком долго: 3291 мс\n  assert 3291 <= 3000\nassert False\n", "trace": "  File \"C:\\Users\\miros\\PycharmProjects\\test_91.197.96.80\\tests\\test_performance.py\", line 40, in test_time_load\n    assert False, str(e)\n"}, "attachments": [{"name": "Текст ошибки", "source": "1030f65e-5e3b-4b6c-8fd6-ee5dd92ff766-attachment.txt", "type": "text/plain"}], "start": 1753784784286, "stop": 1753784784290}], "attachments": [{"name": "screenshot_on_failure", "source": "9bb318ad-d4d1-4255-bbfc-d8f55ca9d6a4-attachment.png", "type": "image/png"}, {"name": "page_source", "source": "72b44910-e7e6-4bae-9de4-5c2b5cfb5e18-attachment.html", "type": "text/html"}, {"name": "log", "source": "64376ed4-a6be-4340-9ceb-148c18318991-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "browser_name", "value": "'Microsoft Edge'"}, {"name": "Браузер", "value": "'Microsoft Edge'"}], "start": 1753784784233, "stop": 1753784784299, "uuid": "b0b36136-8fb0-43ca-bb4b-4df13edb84e9", "historyId": "1a0267d16adaba5b9c5f613823615fac", "testCaseId": "c63ec7b88875e3d2f511effbc8e752b2", "fullName": "tests.test_performance.TestPerformance#test_time_load", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_performance"}, {"name": "subSuite", "value": "TestPerformance"}, {"name": "host", "value": "Miroslav"}, {"name": "thread", "value": "10908-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_performance"}]}